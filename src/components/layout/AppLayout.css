/**
 * @fileoverview 应用布局样式表
 *
 * 定义 VS Code 风格的应用布局样式，包括标题栏、活动栏、主内容区、
 * 调整手柄和状态栏。
 *
 * @module components/layout/AppLayout.css
 *
 * @style .app-layout - 应用布局根容器
 * @style .app-layout-header - 标题栏
 * @style .app-layout-main - 主内容区域
 * @style .app-layout-activity-bar - 活动栏
 * @style .app-layout-center - 中央内容区
 * @style .app-layout-resize-handle - 调整手柄
 * @style .app-layout-status-bar - 状态栏
 */

/* ==========================================================================
   应用布局根容器
   ========================================================================== */

/* .app-layout: 应用布局根容器
 * - 垂直 flexbox 布局
 * - 占满视口
 * - VS Code 编辑器背景色
 */
.app-layout {
    display: flex;
    flex-direction: column;
    width: 100%;
    height: 100vh;
    background-color: var(--vscode-editor-background, var(--bg-primary));
    color: var(--vscode-editor-foreground, #cccccc);
    overflow: hidden;
}

/* ==========================================================================
   标题栏
   ========================================================================== */

/* .app-layout-header: 标题栏
 * - 固定高度 30px
 * - 支持窗口拖拽
 * - 深色背景
 */
.app-layout-header {
    flex-shrink: 0;
    height: 30px;
    display: flex;
    align-items: center;
    background-color: var(--vscode-titleBar-activeBackground, var(--bg-tertiary));
    border-bottom: 1px solid var(--vscode-titleBar-border, var(--bg-tertiary));
    padding: 0 10px;
    -webkit-app-region: drag;
}

/* .app-layout-header *: 标题栏子元素禁用拖拽 */
.app-layout-header * {
    -webkit-app-region: no-drag;
}

/* ==========================================================================
   主内容区域
   ========================================================================== */

/* .app-layout-main: 主内容区域
 * - flex: 1 填充剩余空间
 * - 水平 flexbox 布局
 */
.app-layout-main {
    flex: 1;
    display: flex;
    overflow: hidden;
}

/* ==========================================================================
   活动栏
   ========================================================================== */

/* .app-layout-activity-bar: 活动栏
 * - 固定宽度 48px
 * - 垂直布局
 * - 深色背景
 */
.app-layout-activity-bar {
    flex-shrink: 0;
    width: 48px;
    background-color: var(--vscode-activityBar-background, #333333);
    border-right: 1px solid var(--vscode-activityBar-border, var(--bg-tertiary));
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-top: 8px;
}

/* ==========================================================================
   中央内容区
   ========================================================================== */

/* .app-layout-center: 中央内容区
 * - flex: 1 填充剩余空间
 * - 最小宽度 200px 防止过度压缩
 */
.app-layout-center {
    flex: 1;
    min-width: 200px;
    overflow: visible;
    position: relative;
    background-color: var(--vscode-editor-background, var(--bg-primary));
}

/* ==========================================================================
   侧边栏容器
   ========================================================================== */

/* .app-layout-left-sidebar-container: 左侧边栏容器
 * - 包含切换按钮和侧边栏内容
 */
.app-layout-left-sidebar-container {
    display: flex;
    flex-direction: row;
}

/* .app-layout-right-sidebar-container: 右侧边栏容器
 * - 包含侧边栏内容和切换按钮
 */
.app-layout-right-sidebar-container {
    display: flex;
    flex-direction: row;
}

/* .sidebar-wrapper: 侧边栏包装器
 * - 用于添加焦点样式
 * - 高度 100% 填充父容器
 */
.sidebar-wrapper {
    display: flex;
    flex-direction: column;
    height: 100%;
}

/* 确保 sidebar-wrapper 内的 sidebar 填满容器 */
.sidebar-wrapper>.sidebar {
    flex: 1;
}

/* ==========================================================================
   侧边栏切换按钮头部
   ========================================================================== */

/* .sidebar-toggle-header: 侧边栏切换按钮容器
 * - 固定宽度，仅包含切换按钮
 * - 垂直居上对齐
 */
.sidebar-toggle-header {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 24px;
    padding-top: 4px;
    background-color: var(--vscode-sideBar-background, var(--bg-secondary));
    border-right: 1px solid var(--vscode-sideBar-border, var(--bg-tertiary));
}

.sidebar-toggle-header.right {
    border-right: none;
    border-left: 1px solid var(--vscode-sideBar-border, var(--bg-tertiary));
}

/* .sidebar-toggle-btn: 切换按钮
 * - 简洁的图标按钮
 */
.sidebar-toggle-btn {
    width: 20px;
    height: 20px;
    padding: 0;
    border: none;
    background: transparent;
    color: var(--vscode-icon-foreground, #c5c5c5);
    cursor: pointer;
    font-size: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 3px;
    transition: background-color 0.15s ease;
}

.sidebar-toggle-btn:hover {
    background-color: var(--vscode-toolbar-hoverBackground, rgba(90, 93, 94, 0.31));
}

.sidebar-toggle-btn:active {
    background-color: var(--vscode-toolbar-activeBackground, rgba(99, 102, 103, 0.41));
}

/* ==========================================================================
   调整手柄
   ========================================================================== */

/* .app-layout-resize-handle: 侧边栏调整手柄
 * - 4px 宽度的可拖拽区域
 * - 悬停时显示高亮
 */
.app-layout-resize-handle {
    flex-shrink: 0;
    width: 4px;
    cursor: ew-resize;
    background-color: transparent;
    transition: background-color 0.15s ease;
    z-index: 10;
}

/* .app-layout-resize-handle:hover, .resizing: 悬停和拖拽状态 */
.app-layout-resize-handle:hover,
.app-layout-resize-handle.resizing {
    background-color: var(--vscode-focusBorder, #007fd4);
}

/* .resize-handle-left: 左侧调整手柄
 * - 负 margin 使手柄覆盖边界
 */
.resize-handle-left {
    margin-left: -2px;
    margin-right: -2px;
}

/* .resize-handle-right: 右侧调整手柄 */
.resize-handle-right {
    margin-left: -2px;
    margin-right: -2px;
}

/* ==========================================================================
   状态栏
   ========================================================================== */

/* .app-layout-status-bar: 状态栏
 * - 固定高度 22px
 * - 蓝色背景（VS Code 默认）
 */
.app-layout-status-bar {
    flex-shrink: 0;
    height: 22px;
    display: flex;
    align-items: center;
    background-color: var(--vscode-statusBar-background, #007acc);
    color: var(--vscode-statusBar-foreground, #ffffff);
    font-size: 12px;
    padding: 0 10px;
}

/* ==========================================================================
   浅色主题覆盖
   
   使用 [data-theme="light"] 属性选择器匹配主题系统
   ========================================================================== */

/* [data-theme="light"] .app-layout: 浅色主题根容器 */
[data-theme="light"] .app-layout {
    background-color: var(--vscode-editor-background, #ffffff);
    color: var(--vscode-editor-foreground, #333333);
}

/* [data-theme="light"] .app-layout-header: 浅色主题标题栏 */
[data-theme="light"] .app-layout-header {
    background-color: var(--vscode-titleBar-activeBackground, #dddddd);
    border-bottom-color: var(--vscode-titleBar-border, #cccccc);
}

/* [data-theme="light"] .app-layout-activity-bar: 浅色主题活动栏 */
[data-theme="light"] .app-layout-activity-bar {
    background-color: var(--vscode-activityBar-background, #2c2c2c);
}

/* [data-theme="light"] .app-layout-center: 浅色主题中央区 */
[data-theme="light"] .app-layout-center {
    background-color: var(--vscode-editor-background, #ffffff);
}

/* [data-theme="light"] .app-layout-status-bar: 浅色主题状态栏 */
[data-theme="light"] .app-layout-status-bar {
    background-color: var(--vscode-statusBar-background, #007acc);
}

/* [data-theme="light"] .sidebar-toggle-header: 浅色主题切换按钮头部 */
[data-theme="light"] .sidebar-toggle-header {
    background-color: var(--vscode-sideBar-background, #f3f3f3);
    border-color: var(--vscode-sideBar-border, #e7e7e7);
}

/* [data-theme="light"] .sidebar-toggle-btn: 浅色主题切换按钮 */
[data-theme="light"] .sidebar-toggle-btn {
    color: var(--vscode-icon-foreground, #424242);
}

/* ==========================================================================
   调整中状态
   ========================================================================== */

/* .app-layout.resizing *: 调整大小时禁用子元素指针事件 */
.app-layout.resizing * {
    pointer-events: none;
}

/* .app-layout.resizing .app-layout-resize-handle: 调整中手柄保持可交互 */
.app-layout.resizing .app-layout-resize-handle {
    pointer-events: auto;
}